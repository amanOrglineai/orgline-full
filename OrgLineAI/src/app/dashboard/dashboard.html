<div class="layout">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-top">
      <button class="avatar" aria-label="Profile">
        <span class="avatar-initial">üë§</span>
      </button>

      <nav class="nav">
        <a
          class="nav-item"
          routerLink="/dashboard"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <div class="nav-icon">üè†</div>
          <span>Home</span>
        </a>

        <a
          class="nav-item"
          routerLink="/leaves"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <div class="nav-icon">üìÖ</div>
          <span>Leaves</span>
        </a>

        <a
          class="nav-item"
          routerLink="/apply"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <div class="nav-icon">‚ûï</div>
          <span>Apply</span>
        </a>
      </nav>
    </div>
  </aside>

  <!-- Main -->
  <main class="main">
    <!-- Top bar (user) -->
    <header class="topbar">
      <div class="spacer"></div>
      <div class="user-pill">
        <div class="user-avatar">JD</div>
        <span class="user-name">{{ userName }}</span>
        <mat-icon>keyboard_arrow_down</mat-icon>
      </div>
    </header>

    <!-- Page title -->
    <h1 class="page-title">
      <span class="title-icon">üß≥</span>
      My Leave and Attendance
    </h1>

    <!-- 3 cards row -->
    <section class="cards">
      <!-- Time Tracker -->
      <article class="card">
        <div class="card-title">
          <mat-icon class="muted">access_time</mat-icon>
          <span>Time Tracker</span>
        </div>

        <div class="time-rows">
          <div class="time-row">
            <div class="time-row-left">
              <span class="in-icon">‚Ü™</span>
              <span class="label">Punch In</span>
            </div>
            <div class="time-value">{{ inTime() }}</div>
          </div>

          <div class="time-row">
            <div class="time-row-left">
              <span class="out-icon">‚Ü©</span>
              <span class="label">Punch Out</span>
            </div>
            <div class="time-value">{{ outTime() }}</div>
          </div>
        </div>

        <div class="time-footer">
          <div class="hours">
            <div class="hours-label">Total Hours</div>
            <div class="hours-value">{{ totalHours() }}</div>
          </div>
          <button
            mat-flat-button
            color="primary"
            class="punch-btn"
            (click)="onPunchClick()"
          >
            {{ punchButtonLabel() }}
          </button>
        </div>
      </article>

      <!-- My Leave Balance -->
      <article class="card">
        <div class="balance-head">
          <div class="balance-icon">‚è±Ô∏è</div>
          <div class="balance-title">My Leave Balance</div>
          <div class="balance-sub">
            Total: {{ totalLeaves() }}, Used: {{ usedLeaves() }}
          </div>
        </div>

        <div class="balance-available">
          Available: <span>{{ availableLeaves() }}</span>
        </div>

        <div class="balance-actions">
          <button mat-flat-button color="primary" routerLink="/apply">
            Apply Leave
          </button>
          <button mat-stroked-button routerLink="/leaves">My Leaves</button>
        </div>
      </article>

      <!-- Company Announcements -->
      <article class="card">
        <div class="ann-head">
          <div class="ann-icon">üì£</div>
          <div class="ann-title">Company Announcements</div>
        </div>

        <ng-container *ngIf="announcements().length; else noAnn">
          <p class="ann-text">
            {{ announcements()[0].body }}
          </p>
          <button mat-stroked-button class="linkish">
            {{ announcements()[0].ctaText }}
          </button>
        </ng-container>

        <ng-template #noAnn>
          <p class="ann-text">No announcements right now.</p>
        </ng-template>
      </article>
    </section>

    <section class="content-grid">
      <!-- Calendar -->
      <section class="calendar card">
        <header class="calendar-head">
          <button class="chev">&lt;</button>
          <h2>{{ month }}</h2>
          <button class="chev">&gt;</button>
        </header>

        <!-- same calendar grid -->
        <div class="cal-grid">
          <div class="dow">Sun</div>
          <div class="dow">Mon</div>
          <div class="dow">Tue</div>
          <div class="dow">Wed</div>
          <div class="dow">Thu</div>
          <div class="dow">Fri</div>
          <div class="dow">Sat</div>
          <!-- ... calendar days unchanged ... -->
        </div>
      </section>

      <!-- Right rail -->
      <aside class="right-rail">
        <section class="card notices">
          <h3 class="notices-title">HR Notices &amp; Updates</h3>

          <ng-container *ngIf="notices().length; else noNotices">
            <div class="notice" *ngFor="let n of notices()">
              <div class="n-icon">üìù</div>
              <div class="n-body">
                <div class="n-h">{{ n.title }}</div>
                <p>{{ n.body }}</p>
                <a class="n-link">{{ n.ctaText }}</a>
              </div>
            </div>
          </ng-container>

          <ng-template #noNotices>
            <p>No HR notices available.</p>
          </ng-template>
        </section>
      </aside>
    </section>
  </main>
</div>
